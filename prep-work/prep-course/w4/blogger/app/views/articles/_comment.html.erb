<div class="media">
  <%= render partial: 'shared/vote_buttons',
      locals: { this_comment_id: comment.id, this_article_id: nil,
                upvotes: comment.upvotes } %>
  <div class="media-body">
    <h4>
      <a type="button" class="btn btn-xs btn-default"
       id="comment_button_<%= comment.id %>"
       onClick="handleCollapse(<%= comment.id %>)">-</a>
      <span>Comment by <%= comment.author.username %></span>
    </h4>

    <div class= "comment_block" id="comment_block_<%= comment.id %>">
      <p>submitted <%= time_ago_in_words(comment.created_at) %> ago</p>

      <p class="comment_body"><%= comment.body %></p>

      <%= render partial: 'comments/reply_form',
            locals: { parent_id: comment.id } %>

      <% if comment.children.any? %>
        <%= render partial: 'articles/comment', collection: comment.children %>
      <% end %>
    </div>
  </div>
</div>
